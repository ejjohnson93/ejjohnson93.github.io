<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Micro:bit activity 3 - dice roller</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CBF</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Activities
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="activity1.html">Activity 1 - introduction</a>
    </li>
    <li>
      <a href="activity2.html">Activity 2 - python poem</a>
    </li>
    <li>
      <a href="activity4.html">Activity 3 - choose your own adventure game</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Extra activities
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="activity3.html">Data analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Robot activities
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mindstorm2.html">Hello LEGO!</a>
    </li>
    <li>
      <a href="mindstorm3.html">speakers and sound</a>
    </li>
    <li>
      <a href="mindstorm4.html">Motors and movement</a>
    </li>
    <li>
      <a href="mindstorm5.html">Colours and control</a>
    </li>
    <li>
      <a href="mindstorm_challenges.html">Challenges</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Micro:bit activities
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="microbit2.html">Hello micro:bit!</a>
    </li>
    <li>
      <a href="microbit3.html">Beating heart</a>
    </li>
    <li>
      <a href="microbit4.html">Dice roller</a>
    </li>
    <li>
      <a href="microbit_extrachallenges.html">Extra challenges</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about.html">About Us</a>
    </li>
    <li>
      <a href="feedback.html">Leave us feedback</a>
    </li>
    <li>
      <a href="resources.html">Additional resources</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/LivUniCBF">
    <span class="fab fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://www.liverpool.ac.uk/computational-biology-facility/">
    <span class="fas fa-globe"></span>
     
    Website
  </a>
</li>
<li>
  <a href="https://github.com/ejjohnson93/ejjohnson93.github.io">
    <span class="fab fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Micro:bit activity 3 - dice roller</h1>

</div>


<p><br></p>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>In this activity we are going to create a dice roller. When our
micro:bit is shaken it will display a number between 1 and 6. We will
then improve it by making the display look like the pips on a dice.</p>
<p><br></p>
<center>
<p><img src="images/dice.png" width="512" /></p>
</center>
<p><br><br></p>
</div>
<div id="dice-roller" class="section level1">
<h1>Dice roller</h1>
<div id="make-code" class="section level2">
<h2>Make code</h2>
<p>Open the <a href="https://makecode.microbit.org/#editor">MakeCode
editor</a>. The program is below:</p>
<p><br></p>
<center>
<p><img src="images/microbit13.png" /></p>
</center>
<p><br></p>
<p>Our micro:bit contains an accelerometer which means it can detect
movement. In this program when the micro:bit is shaken it activates the
‘when shaken’ block. Inside that block is the ‘show number’ block.</p>
<p>To make it show a random number we have to scroll down to the ‘math’
section of blocks and then drag the ‘pick random’ block inside where the
number would be. We can select any range we like for the numbers but
since we are trying to emulate a 6 sided dice we say 1-6.</p>
<p>When you run this program it may be easier to then unplug the
micro:bit from the laptop and connect the battery pack as so to make the
micro:bit easier to shake:</p>
<p><br></p>
<center>
<p><img src="images/microbit14.png" /></p>
</center>
<p><br><br></p>
<div id="improve-it" class="section level3">
<h3>Improve it!</h3>
<p>Whilst some 6-sided dice display numerals on each face, most instead
show pips:</p>
<p><br></p>
<center>
<p><img
src="images/Dice-utilized-in-this-study-Clockwise-from-top-left-Large-Symboled-Die-Large-Numeral.jpg" /></p>
</center>
<p><br></p>
<p>We are now going to modify our program so it shows pips instead.</p>
<p>Like before the accelerometer detects when the micro:bit has been
shaken. It then generates a random number. Instead of displaying that
number on screen it saves the number inside a ‘variable’ and passes the
variable to a big ‘else if’ block. Inside that block the number is
evaluated, essentially saying ‘if the number is x, show x, otherwise if
the number is y show y, otherwise…..’.</p>
<p>The full program is further below. But to begin, we need to create a
variable for ‘number’. We do so by clicking on ‘variables’, then ‘make a
variable’:</p>
<p><br></p>
<center>
<p><img src="images/microbit15.png" /></p>
<p><img src="images/microbit16.png" /></p>
<p><img src="images/microbit17.png" /></p>
</center>
<p><br></p>
<p>This then gives you some new blocks to work with. We can drag the
‘pick random’ block inside the ‘set number’ block as we did earlier for
the ‘show number’ block.</p>
<p>We then build up program using the logic blocks. We can find the
blocks we need under ‘conditionals’ and ‘comparison’:</p>
<p><br></p>
<center>
<p><img src="images/microbit19.png" /></p>
<p><img src="images/microbit18.png" /></p>
</center>
<p><br></p>
<p>Here is the final program:</p>
<p><br></p>
<center>
<p><img src="images/microbit20.png" width="417" /></p>
</center>
<p><br></p>
<p><b>Challenge:</p>
<ul>
<li><p>Can you make the display clear after a few seconds to save
battery?</p></li>
<li><p>Can you make your dice display different numbers? Can you think
of a way to represent numbers greater than 6 with pips? (Or some other
notation?)</b></p></li>
</ul>
<p><br><br></p>
</div>
</div>
<div id="python" class="section level2">
<h2>Python</h2>
<p>Now let’s convert our program into python! Open the <a
href="https://python.microbit.org/v/3">Python editor</a>.</p>
<p>This program will have the same outcome as the one above and works
off the same logic. We need to import a python package ‘random’ to let
us use random numbers though. The program is below:</p>
<p><br></p>
<center>
<p><img src="images/microbit21.png" /></p>
</center>
<pre class="python fold-hide"><code>from microbit import *
import random

while True:
    if accelerometer.was_gesture(&#39;shake&#39;):
        display.show(random.randint(1, 6))</code></pre>
<p><br></p>
<p>By now you’ll hopefully be more familiar with the idea of using
forever while loops to keep a program repeating. Inside the while loop
we use a condition that asks whether the accelerometer detected shaking
(line 5).</p>
<p>If the accelerometer detected shaking it then moves onto line 6. This
uses the <code>display.show()</code> function to display something on
screen. Inside the brackets we say what we want to display (be it a
number or phrase or something else). In this case we use the
<code>randint()</code> function inside ‘random’ to generate a random
number between 1 and 6.</p>
<p>If you were to run the following inside replit for example:</p>
<pre class="python"><code>
import random

print(random.randint(1,6))</code></pre>
<pre><code>## 6</code></pre>
<p>You would see the output of <code>random.randint(1,6)</code> is just
a number between 1 and 6. If our random number was 4 we’d essentially be
running:</p>
<p><code>display.show(4)</code>.</p>
<p>So the code essentially substitutes a random number between 1 and 6
inside <code>display.show()</code> each time we shake the micro:bit.</p>
<p><br><br></p>
<div id="improve-it-1" class="section level3">
<h3>Improve it!</h3>
<p>Next, let’s create the version with pips instead of numerals as we
did in the MakeCode editor above. The full program is below. It is a bit
too long to display on one screen so we have cropped it but included the
code in a box below it.</p>
<p><br></p>
<center>
<p><img src="images/microbit22.png" /></p>
</center>
<pre class="python fold-hide"><code>from microbit import *
import random

while True:
    if accelerometer.was_gesture(&#39;shake&#39;):
        number = random.randint(1, 6)
        if number == 1:
            display.show(Image(
            &quot;00000:&quot;
            &quot;00000:&quot;
            &quot;00900:&quot;
            &quot;00000:&quot;
            &quot;00000&quot;))
        elif number == 2:
            display.show(Image(
            &quot;00000:&quot;
            &quot;00000:&quot;
            &quot;90009:&quot;
            &quot;00000:&quot;
            &quot;00000&quot;))
        elif number == 3:
            display.show(Image(
            &quot;00009:&quot;
            &quot;00000:&quot;
            &quot;00900:&quot;
            &quot;00000:&quot;
            &quot;90000&quot;))
        elif number == 4:
            display.show(Image(
            &quot;90009:&quot;
            &quot;00000:&quot;
            &quot;00000:&quot;
            &quot;00000:&quot;
            &quot;90009&quot;))
        elif number == 5:
            display.show(Image(
            &quot;90009:&quot;
            &quot;00000:&quot;
            &quot;00900:&quot;
            &quot;00000:&quot;
            &quot;90009&quot;))
        else:
            display.show(Image(
            &quot;90009:&quot;
            &quot;00000:&quot;
            &quot;90009:&quot;
            &quot;00000:&quot;
            &quot;90009&quot;))</code></pre>
<p><br></p>
<p>This code starts off the same as the more simple version above. Then
on line 6 it instead generates and saves the random number inside a
variable called number. This is essentially the same as the ‘set number
to pick random between 1 and 6’ block we used in the MakeCode editor
above.</p>
<p>Then, on line 7, an elseif loop begins. Can you see that is nearly
the same as our logic conditional block from earlier? It follows the
same process of asking ‘is the random number x, if so display this, is
the random number y, if so display this…’.</p>
<p>The below code would show the dice face with 1 pip:</p>
<pre><code>display.show(Image(

            &quot;00000:&quot;

            &quot;00000:&quot;

            &quot;00900:&quot;

            &quot;00000:&quot;

            &quot;00000&quot;))
            </code></pre>
<p>We learned about creating images in the <a
href="microbit3.html">previous activity</a> if you’re unsure how this
works. But essentially on the 5x5 light up screen the 0 mean don’t light
up, and the 9 means the brightest light setting.</p>
<p><b>Challenge: try and play with the brightness levels of the pips on
your dice. Try and create a dice that goes past 6. </b></p>
<p><br><br></p>
</div>
</div>
</div>
<div id="summary" class="section level1">
<h1>Summary</h1>
<p>In this activity we have:</p>
<ul>
<li><p>Used the light matrix to create numbers and images</p></li>
<li><p>Made use of the accelerometer</p></li>
<li><p>Used more complicated while loops in combination with elseif
loops</p></li>
</ul>
<p><br> <br></p>
<p><img src="images/logo.png" style="float: right;"/></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
